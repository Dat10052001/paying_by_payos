<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-BOOK</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" type="image/ico" href="book-2-64.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div class="main-box">
        <div id="header">
            <nav>
                <ul>
                    <span class="nameOfShop"><i class="fa fa-bookmark" style="font-size: 1em;"></i>E-BOOK SHOP</span>
                    <li><a href="#"><i class="fa fa-at" style="font-size: 1em;"></i>Về chúng tôi</a></li>
                    <li><a href="#"><i class="fa fa-book" style="font-size: 1em;"></i>Sản phẩm</a></li>
                    <li><a href="#"><i class="fa fa-star-half-full" style="font-size: 1em;"></i>Đánh giá</a></li>
                    <li><a href="#"><i class="fa fa-search" style="font-size: 1em;"></i>Tìm kiếm</a></li>
                    <li><a href="#"><i class="fa fa-phone" style="font-size: 1em;"></i>Liên hệ</a></li>
                    <li><a href="#"><i class="fa fa-user-circle" style="font-size: 1em;"></i>Nguyễn Văn A</a></li>
                </ul>
            </nav>
        </div>
        <div class="checkout">
            <div id="main">
                <div class="table-cart">
                    <table id="cart-table">
                        <thead>
                            <tr>
                                <th>TÊN SẢN PHẨM</th>
                                <th>HÌNH ẢNH</th>
                                <th>ĐƠN GIÁ</th>
                                <th>SỐ LƯỢNG</th>
                                <th>TỔNG TIỀN</th>
                                <th>THAO TÁC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>E-BOOK: "Bí mật của may mắn"</td>
                                <td><img src="./images/image1.png" alt="Sản phẩm 1"></td>
                                <td>10.000 VNĐ</td>
                                <td>
                                    <div class="quantity-wrapper">
                                        <button class="minus-btn" disabled>-</button>
                                        <input type="" class="quantity-input" min="1" max="99" value="1" disabled>
                                        <button class="plus-btn" disabled>+</button>
                                    </div>
                                </td>
                                <td>10.000 VNĐ</td>
                                <td><button class="remove-btn">Xóa</button></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="empty-cart">
                        <img src="./images/empty-cart.png" alt="Giỏ hàng trống" class="empty-cart-img">
                        <p class="empty-text">Giỏ hàng của bạn trống !!!</p>
                    </div>
                    <div class="button-container1">
                        <form action="/">
                            <button type="submit" class="back-btn">
                                <i class="fa fa-mail-reply" style="margin-right: 5px;"></i>
                                TIẾP TỤC MUA
                            </button>
                        </form>
                        <form action="/create-payment-link" method="post">
                            <span class="total"></span>
                            <button type="submit" class="gotopay">
                                <i class="fa fa-money" style="margin-right: 5px;"></i>
                                THANH TOÁN
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    const removeBtns = document.querySelectorAll('.remove-btn');
    const emptyCartDiv = document.querySelector('.empty-cart');
  
    removeBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const row = btn.closest('tr');  
        row.remove();
        emptyCartDiv.style.display = 'flex';
      });
    });
    
    let totalPrice = 0;
    let quantity = 1; 
    let unitPrice = 10000; 
    let totalText = document.querySelector('.total');


    if (quantity === 0) {
        totalPrice = 0;
        totalText.innerHTML = 'TỔNG: 0 VNĐ';

    } else {
        totalPrice = quantity * unitPrice;
        totalText.innerHTML = `TỔNG: ${totalPrice.toLocaleString('vi-VN')} VNĐ`;
    }

    let deleteButton = document.querySelector('.remove-btn');
    let paymentButton = document.querySelector('.gotopay');

    deleteButton.addEventListener('click', () => {
        totalPrice = 0;
        totalText.innerHTML = 'TỔNG: 0 VNĐ';
        paymentButton.disabled = true;
    });

  </script>
</html>