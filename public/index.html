<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-BOOK</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" type="image/ico" href="book-2-64.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div class="main-box">
        <div id="header">
            <nav>
                <ul>
                    <span class="nameOfShop"><i class="fa fa-bookmark" style="font-size: 1em;"></i>E-BOOK SHOP</span>
                    <li><a href="#"><i class="fa fa-at" style="font-size: 1em;"></i>Về chúng tôi</a></li>
                    <li><a href="#"><i class="fa fa-book" style="font-size: 1em;"></i>Sản phẩm</a></li>
                    <li><a href="#"><i class="fa fa-star-half-full" style="font-size: 1em;"></i>Đánh giá</a></li>
                    <li><a href="#"><i class="fa fa-search" style="font-size: 1em;"></i>Tìm kiếm</a></li>
                    <li><a href="/paying.html"><i class="fa fa-shopping-cart" style="font-size: 1em;"></i>Giỏ hàng</a></li>
                    <li><a href="#"><i class="fa fa-user-circle" style="font-size: 1em;"></i>Nguyễn Văn A</a></li>
                </ul>
            </nav>
        </div>
        <div id="main">
            <div id="image-show">
                <img src="./images/image1.png" alt="img1" class="img-big" id="main-image">
                <div class="img-small-container">
                    <img src="./images/image1.png" alt="img1" class="img-small active" data-src="./images/image1.png">
                    <img src="./images/image2.png" alt="img2" class="img-small" data-src="./images/image2.png">
                    <img src="./images/image3.png" alt="img3" class="img-small" data-src="./images/image3.png">
                    <img src="./images/image4.png" alt="img4" class="img-small" data-src="./images/image4.png">
                    <img src="./images/image5.png" alt="img5" class="img-small" data-src="./images/image5.png">
                </div>
            </div>
            <div class="infomation">
                <h1><b>E-BOOK: "BÍ MẬT CỦA MAY MẮN"</b></h1>
                <span><i>Giá khuyển mãi khi mua từ 16/04 - 23/04</i></span>
                <span class="middle-line"><i>99.000 VNĐ</i></span>
                <span><i>10.000 VNĐ</i></span>
                <P><b>MÔ TẢ CHI TIẾT</b></p>
                <div class="describe">
                    <span>Công ty phát hành</span><span>AFrist News - Trí Viêt</span>
                    <span>Ngày xuất bản</span><span>2021-03-01</span>
                    <span>Kích thước</span><span>11.5 x 16.5 cm</span>
                    <span>Dịch Giả</span><span>Nguyễn Văn Phước - Khánh Thủy</span>
                    <span>Loại bìa</span><span>Bìa mềm</span>
                    <span>Số trang</span><span>160</span>
                    <span>Nhà xuất bản</span><span>Nhà Xuất Bản Tổng hợp TP.HCM</span>
                </div>
                <span><i>( Bạn chỉ có thể mua 1 sản phẩm )</i></span>
                <div class="quantity-wrapper">
                    <span style="margin-right: 15px;"> Số lượng mua </span>
                    <button class="minus-btn" disabled>-</button>
                    <input type="" class="quantity-input" min="1" max="99" value="1" disabled>
                    <button class="plus-btn" disabled>+</button>
                </div>
                <div class="button-container">
                    <form action="/" id="add-to-cart-form">
                        <button type="submit" class="add-to-cart">
                            Thêm vào giỏ
                        </button>
                    </form>
                    <form action="/paying.html">
                        <button type="submit" class="paying">
                            Mua ngay
                        </button>
                    </form>
                </div>
                <div id="popup" class="popup">
                    <div class="popup-content">
                        <span class="close-button">&times;</span>
                        <p><i class="fa fa-check" style="color: #42BC81; margin: 0 15px; font-size: 22px;"></i>Đã thêm vào giỏ hàng, số lượng sản phẩm: 1</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const mainImage = document.getElementById('main-image');
        const smallImages = document.querySelectorAll('.img-small');

        let currentIndex = 0;

        function addBorder(img) {
            img.style.border = '4px solid darkgreen';
            img.style.width = '52px';
            img.style.height = '64px';
        }

        function removeBorder(img) {
            img.style.border = '1px solid black';
            img.style.width = '58px';
            img.style.height = '67px';
        }

        function updateMainImage(index) {
            mainImage.src = smallImages[index].dataset.src;
            removeActiveClass();
            smallImages[index].classList.add('active');
            addBorder(smallImages[index]);
        }

        function removeActiveClass() {
            smallImages.forEach(img => {
                img.classList.remove('active');
                removeBorder(img);
            });
        }

        smallImages.forEach((img, index) => {
            img.addEventListener('mouseenter', () => {
                updateMainImage(index);
            });
            img.addEventListener('mouseleave', () => {
                if (!img.classList.contains('active')) {
                removeBorder(img);
                }
            });
        });

        smallImages.forEach((img, index) => {
            img.addEventListener('click', () => {
                currentIndex = index;
                updateMainImage(currentIndex);
            });
        });

        updateMainImage(currentIndex);

        const form = document.getElementById('add-to-cart-form');
        const popup = document.getElementById('popup');
        const closeButton = document.querySelector('.close-button');

        form.addEventListener('submit', (event) => {
            event.preventDefault(); 
            popup.style.display = 'block'; 
        });

        closeButton.addEventListener('click', () => {
            popup.style.display = 'none'; 
        });

        window.addEventListener('click', (event) => {
            if (event.target === popup) {
                popup.style.display = 'none'; 
            }
        })
    
        setTimeout(function() {
            popup.style.display = "none";
        }, 5000);

    </script>
</body>
</html>